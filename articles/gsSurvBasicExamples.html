<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basic time-to-event group sequential design using gsSurv • gsDesign</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Basic time-to-event group sequential design using gsSurv">
<meta property="og:description" content="gsDesign">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gsDesign</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.1.0.9006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Basic time-to-event group sequential design using gsSurv</h1>
            
            <h4 class="date">2020-04-27</h4>
      
      
      <div class="hidden name"><code>gsSurvBasicExamples.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>This article/vignette provides a basic time-to-event endpoint designs for fixed designs using <code><a href="../reference/nSurv.html">nSurv()</a></code> and group sequential designs using <code><a href="../reference/nSurv.html">gsSurv()</a></code>. Some detail in specification comes with the flexibility allowed by the <span class="citation">Lachin and Foulkes (1986)</span> method for sample size under a proportional hazards model with piecewise constant enrollment, piecewise exponential failure and dropout rates. Users may also be interested in the <a href="https://gsdesign.shinyapps.io/prod/">Shiny interface</a> as a learning tool. We only use the simplest options here with a single stratum and exponential failure and dropout rates; see the help file for <code><a href="../reference/nSurv.html">gsSurv()</a></code> for examples with a stratified population or piecewise exponential failure.</p>
<p>We apply the <span class="citation">Lachin and Foulkes (1986)</span> sample size method and extend it to group sequential design. This method fixes the duration of a study and varies enrollment rates to power a trial. We also use the <span class="citation">Lachin and Foulkes (1986)</span> basic power calculation to compute sample size along the lines of <span class="citation">Kim and Tsiatis (1990)</span> where enrollment rates are fixed and enrollment duration is allowed to vary to enroll a sufficient sample size to power a study.</p>
</div>
<div id="fixed-design-derivation" class="section level1">
<h1 class="hasAnchor">
<a href="#fixed-design-derivation" class="anchor"></a>Fixed design derivation</h1>
<p>Since the parameters used for a design with no interim are also used for a group sequential design, we first specify and derive a design with no interim analysis.</p>
<div id="outcome-and-dropout-distributions" class="section level2">
<h2 class="hasAnchor">
<a href="#outcome-and-dropout-distributions" class="anchor"></a>Outcome and dropout distributions</h2>
<p>We begin with information about the median time-to-event in the control group, dropout rate, hazard ratios under the null and alternate hypotheses for experimental therapy compared to control, and the desired Type I and II error rates.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="co"># median control time-to-event</span>
<span class="no">median</span> <span class="kw">&lt;-</span> <span class="fl">12</span>
<span class="co"># exponential dropout rate per unit of time</span>
<span class="no">eta</span> <span class="kw">&lt;-</span> <span class="fl">.001</span>
<span class="co"># hypothesized experimental/control hazard ratio </span>
<span class="co"># (alternate hypothesis)</span>
<span class="no">hr</span> <span class="kw">&lt;-</span> <span class="fl">.75</span>
<span class="co"># null hazard ratio (1 for superiority, &gt;1 for non-inferiority)</span>
<span class="no">hr0</span> <span class="kw">&lt;-</span> <span class="fl">1</span>
<span class="co"># Type I error (1-sided)</span>
<span class="no">alpha</span> <span class="kw">&lt;-</span> <span class="fl">.025</span>
<span class="co"># Type II error (1-power)</span>
<span class="no">beta</span> <span class="kw">&lt;-</span> <span class="fl">.1</span></pre></body></html></div>
</div>
<div id="enrollment-and-trial-duration" class="section level2">
<h2 class="hasAnchor">
<a href="#enrollment-and-trial-duration" class="anchor"></a>Enrollment and trial duration</h2>
<p>Next, we plan the trial duration and the enrollment pattern. There are two basic methods for doing this. The <span class="citation">Lachin and Foulkes (1986)</span> method demonstrated here fixes the enrollment pattern and duration as well as the trial duration and changes the absolute enrollment rates to obtain desired power. The alternate recommended method is along the lines of <span class="citation">Kim and Tsiatis (1990)</span>, fixing the enrollment rates and follow-up duration, varying the total trial duration to power the design; this will also be demonstrated below.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="co"># study duration</span>
<span class="no">T</span> <span class="kw">&lt;-</span> <span class="fl">36</span>
<span class="co"># follow-up duration of last patient enrolled</span>
<span class="no">minfup</span> <span class="kw">&lt;-</span> <span class="fl">12</span>
<span class="co"># enrollment period durations</span>
<span class="no">R</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>)
<span class="co"># relative enrollment rates during above periods</span>
<span class="no">gamma</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>,<span class="fl">1.5</span>,<span class="fl">2.5</span>,<span class="fl">4</span>)
<span class="co"># randomization ratio, experimental/control</span>
<span class="no">ratio</span> <span class="kw">&lt;-</span> <span class="fl">1</span></pre></body></html></div>
</div>
<div id="deriving-design-with-no-interim-analyses" class="section level2">
<h2 class="hasAnchor">
<a href="#deriving-design-with-no-interim-analyses" class="anchor"></a>Deriving design with no interim analyses</h2>
<p>The above information is sufficient to design a trial with no interim analyses. Note that when calling <code><a href="../reference/nSurv.html">nSurv()</a></code>, we transform the median time-to-event (<span class="math inline">\(m\)</span>) to an exponential event rate (<span class="math inline">\(\lambda\)</span>) with the formula <span class="math display">\[\lambda=\log(2)/m.\]</span></p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">gsDesign</span>)
<span class="co">#&gt; Loading required package: ggplot2</span>
<span class="no">x</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/nSurv.html">nSurv</a></span>(<span class="kw">R</span> <span class="kw">=</span> <span class="no">R</span>,
           <span class="kw">gamma</span> <span class="kw">=</span> <span class="no">gamma</span>,
           <span class="kw">eta</span> <span class="kw">=</span> <span class="no">eta</span>,
           <span class="kw">minfup</span> <span class="kw">=</span> <span class="no">minfup</span>,
           <span class="kw">T</span> <span class="kw">=</span> <span class="no">T</span>,
           <span class="kw">lambdaC</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span>(<span class="fl">2</span>)/<span class="no">median</span>,
           <span class="kw">hr</span> <span class="kw">=</span> <span class="no">hr</span>,
           <span class="kw">hr0</span> <span class="kw">=</span> <span class="no">hr0</span>,
           <span class="kw">beta</span> <span class="kw">=</span> <span class="no">beta</span>,
           <span class="kw">alpha</span> <span class="kw">=</span> <span class="no">alpha</span>)</pre></body></html></div>
<p>A textual summary of this design is given by printing it. For the group sequential design shown later, much more complete formatted output will be shown.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">x</span>
<span class="co">#&gt; Fixed design, two-arm trial with time-to-event</span>
<span class="co">#&gt; outcome (Lachin and Foulkes, 1986).</span>
<span class="co">#&gt; Solving for:  Accrual rate </span>
<span class="co">#&gt; Hazard ratio                  H1/H0=0.75/1</span>
<span class="co">#&gt; Study duration:                   T=36</span>
<span class="co">#&gt; Accrual duration:                   24</span>
<span class="co">#&gt; Min. end-of-study follow-up: minfup=12</span>
<span class="co">#&gt; Expected events (total, H1):        507.1519</span>
<span class="co">#&gt; Expected sample size (total):       775.0306</span>
<span class="co">#&gt; Accrual rates:</span>
<span class="co">#&gt;      Stratum 1</span>
<span class="co">#&gt; 0-1     9.2818</span>
<span class="co">#&gt; 1-3    13.9227</span>
<span class="co">#&gt; 3-6    23.2045</span>
<span class="co">#&gt; 6-24   37.1272</span>
<span class="co">#&gt; Control event rates (H1):</span>
<span class="co">#&gt;       Stratum 1</span>
<span class="co">#&gt; 0-Inf    0.0578</span>
<span class="co">#&gt; Censoring rates:</span>
<span class="co">#&gt;       Stratum 1</span>
<span class="co">#&gt; 0-Inf     0.001</span>
<span class="co">#&gt; Power:                 100*(1-beta)=90%</span>
<span class="co">#&gt; Type I error (1-sided):   100*alpha=2.5%</span>
<span class="co">#&gt; Equal randomization:          ratio=1</span></pre></body></html></div>
</div>
<div id="varying-enrollment-duration-to-power-trial" class="section level2">
<h2 class="hasAnchor">
<a href="#varying-enrollment-duration-to-power-trial" class="anchor"></a>Varying enrollment duration to power trial</h2>
<p>If we had set <code>T = NULL</code> above, the specified enrollment rates would not be changed but enrollment duration would be adjusted to achieve desired power. For the low enrollment rates specified in <code>gamma</code> above, this would have resulted in a long trial.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="co"># THIS CODE IS EXAMPLE ONLY; NOT EXECUTED HERE</span>
<span class="fu"><a href="../reference/nSurv.html">nSurv</a></span>(<span class="kw">R</span> <span class="kw">=</span> <span class="no">R</span>,
   <span class="kw">gamma</span> <span class="kw">=</span> <span class="no">gamma</span>,
   <span class="kw">eta</span> <span class="kw">=</span> <span class="no">eta</span>,
   <span class="kw">minfup</span> <span class="kw">=</span> <span class="no">minfup</span>,
   <span class="kw">T</span> <span class="kw">=</span> <span class="kw">NULL</span>, <span class="co"># this was changed</span>
   <span class="kw">lambdaC</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span>(<span class="fl">2</span>)/<span class="no">median</span>,
   <span class="kw">hr</span> <span class="kw">=</span> <span class="no">hr</span>,
   <span class="kw">hr0</span> <span class="kw">=</span> <span class="no">hr0</span>,
   <span class="kw">beta</span> <span class="kw">=</span> <span class="no">beta</span>,
   <span class="kw">alpha</span> <span class="kw">=</span> <span class="no">alpha</span>)</pre></body></html></div>
</div>
</div>
<div id="group-sequential-design" class="section level1">
<h1 class="hasAnchor">
<a href="#group-sequential-design" class="anchor"></a>Group sequential design</h1>
<p>Now we move on to a group sequential design.</p>
<div id="additional-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#additional-parameters" class="anchor"></a>Additional parameters</h2>
<p>All the parameters above are used. We set up the number of analyses, timing and spending function parameters. These deserve careful attention for every trial and tend to be somewhat customized to be fit-for-purpose according to all those involved in designing the trial. Here the choices considered the following:</p>
<ul>
<li>There is an early look intended primarily for futility
<ul>
<li>There is no desire to stop this early for lack of a positive trend</li>
<li>An earlier interim might be too soon to stop for a meaningful safety problem</li>
<li>There is no desire to stop for efficacy, so the extreme effect size and p-value required to cross the bound is considered appropriate</li>
</ul>
</li>
<li>The second interim is primarily for efficacy
<ul>
<li>The data will be relatively mature, but a meaningful length of time before planned final analysis</li>
<li>The treatment effect at the efficacy bound will likely be at least the treatment effect used to power the trial</li>
<li>The Lan-DeMets spending function approximating an O’Brien-Fleming bound <span class="citation">Lan and DeMets (1983)</span> is often acceptable to regulators for early stopping</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="co"># number of analyses (interim + final)</span>
<span class="no">k</span> <span class="kw">&lt;-</span> <span class="fl">3</span>
<span class="co"># timing of interim analyses (k-1 increasing numbers &gt;0 and &lt;1)</span>
<span class="co"># proportion of final events at each interim</span>
<span class="no">timing</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">.25</span>,<span class="fl">.75</span>)
<span class="co"># efficacy bound spending function</span>
<span class="co"># We use Lan-DeMets spending function approximating O'Brien-Fleming bound</span>
<span class="co"># no parameter required for this spending function</span>
<span class="no">sfu</span> <span class="kw">&lt;-</span> <span class="no">sfLDOF</span>
<span class="no">sfupar</span> <span class="kw">&lt;-</span> <span class="kw">NULL</span>
<span class="co"># futility bound spending function</span>
<span class="no">sfl</span> <span class="kw">&lt;-</span> <span class="no">sfHSD</span>
<span class="co"># futility bound spending parameter specification</span>
<span class="no">sflpar</span> <span class="kw">&lt;-</span> -<span class="fl">7</span></pre></body></html></div>
<p>Type II error (1-power) may be set up differently than for a fixed design so that more meaningful futility analyses can be performed during the course of the trial.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="co"># Type II error = 1-Power</span>
<span class="no">beta</span> <span class="kw">&lt;-</span> <span class="fl">.15</span></pre></body></html></div>
</div>
<div id="generating-the-design" class="section level2">
<h2 class="hasAnchor">
<a href="#generating-the-design" class="anchor"></a>Generating the design</h2>
<p>Now we are prepared to generate the design.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="co"># generate design</span>
<span class="no">x</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/nSurv.html">gsSurv</a></span>(<span class="kw">k</span> <span class="kw">=</span> <span class="no">k</span>, <span class="kw">timing</span> <span class="kw">=</span> <span class="no">timing</span>, <span class="kw">R</span> <span class="kw">=</span> <span class="no">R</span>, <span class="kw">gamma</span> <span class="kw">=</span> <span class="no">gamma</span>, <span class="kw">eta</span> <span class="kw">=</span> <span class="no">eta</span>,
            <span class="kw">minfup</span> <span class="kw">=</span> <span class="no">minfup</span>,<span class="kw">T</span> <span class="kw">=</span> <span class="no">T</span>, <span class="kw">lambdaC</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span>(<span class="fl">2</span>) / <span class="no">median</span>,
            <span class="kw">hr</span> <span class="kw">=</span> <span class="no">hr</span>, <span class="kw">hr0</span> <span class="kw">=</span> <span class="no">hr0</span> , <span class="kw">beta</span> <span class="kw">=</span> <span class="no">beta</span>, <span class="kw">alpha</span> <span class="kw">=</span> <span class="no">alpha</span>,
            <span class="kw">sfu</span> <span class="kw">=</span> <span class="no">sfu</span>, <span class="kw">sfupar</span> <span class="kw">=</span> <span class="no">sfupar</span>, <span class="kw">sfl</span> <span class="kw">=</span> <span class="no">sfl</span>, <span class="kw">sflpar</span> <span class="kw">=</span> <span class="no">sflpar</span>)</pre></body></html></div>
</div>
<div id="textual-summary" class="section level2">
<h2 class="hasAnchor">
<a href="#textual-summary" class="anchor"></a>Textual summary</h2>
<p>The design summary is:</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">x</span>))</pre></body></html></div>
<p>Asymmetric two-sided group sequential design with non-binding futility bound, 3 analyses, time-to-event outcome with sample size 676 and 443 events required, 85 percent power, 2.5 percent (1-sided) Type I error to detect a hazard ratio of 0.75. Enrollment and total study durations are assumed to be 24 and 36 months, respectively. Efficacy bounds derived using a Lan-DeMets O’Brien-Fleming approximation spending function with none = 1. Futility bounds derived using a Hwang-Shih-DeCani spending function with gamma = -7.</p>
<p>An important addition not provided above is that the median time-to-event is assumed to be 12 months in the control group.</p>
</div>
<div id="tabular-summaries" class="section level2">
<h2 class="hasAnchor">
<a href="#tabular-summaries" class="anchor"></a>Tabular summaries</h2>
<p>Following are the enrollment rates required to power the trial.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">gt</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tibble</span>)
<span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span>(<span class="kw">Period</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"Month"</span>,<span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames</a></span>(<span class="no">x</span>$<span class="no">gamma</span>)),
       <span class="kw">Rate</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(<span class="no">x</span>$<span class="no">gamma</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/gt.html">gt</a></span>() <span class="kw">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/gt/man/tab_header.html">tab_header</a></span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Enrollment rate requirements"</span>)</pre></body></html></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#oqutyojzcp .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#oqutyojzcp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oqutyojzcp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#oqutyojzcp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#oqutyojzcp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oqutyojzcp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oqutyojzcp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#oqutyojzcp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#oqutyojzcp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#oqutyojzcp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#oqutyojzcp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#oqutyojzcp .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#oqutyojzcp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#oqutyojzcp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#oqutyojzcp .gt_from_md > :first-child {
  margin-top: 0;
}

#oqutyojzcp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#oqutyojzcp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#oqutyojzcp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#oqutyojzcp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oqutyojzcp .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#oqutyojzcp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oqutyojzcp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#oqutyojzcp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oqutyojzcp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oqutyojzcp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#oqutyojzcp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oqutyojzcp .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#oqutyojzcp .gt_left {
  text-align: left;
}

#oqutyojzcp .gt_center {
  text-align: center;
}

#oqutyojzcp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#oqutyojzcp .gt_font_normal {
  font-weight: normal;
}

#oqutyojzcp .gt_font_bold {
  font-weight: bold;
}

#oqutyojzcp .gt_font_italic {
  font-style: italic;
}

#oqutyojzcp .gt_super {
  font-size: 65%;
}

#oqutyojzcp .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="oqutyojzcp" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_header">
<tr>
<th colspan="2" class="gt_heading gt_title gt_font_normal" style>Enrollment rate requirements</th>
    </tr>
<tr>
<th colspan="2" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Period</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Rate</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_left">Month 0-1</td>
      <td class="gt_row gt_right">8.090968</td>
    </tr>
<tr>
<td class="gt_row gt_left">Month 1-3</td>
      <td class="gt_row gt_right">12.136452</td>
    </tr>
<tr>
<td class="gt_row gt_left">Month 3-6</td>
      <td class="gt_row gt_right">20.227421</td>
    </tr>
<tr>
<td class="gt_row gt_left">Month 6-24</td>
      <td class="gt_row gt_right">32.363873</td>
    </tr>
</tbody>
</table></div>
<p>Next we provide a tabular summary of bounds for the design. We have added extensive footnoting to the table, which may or may not be required for your design. However, as seen here it makes many choices for design parameters and properties transparent. No attempt has been made to automate this, but it may be worth considering for a template if you wish to make the same choice across many trials. Note that the <code>exclude</code> argument for <code><a href="../reference/gsBoundSummary.html">gsBoundSummary()</a></code> allows additional descriptions for design bounds such as conditional or predictive power; see the help file for details or just provide <code>exclude = NULL</code> to <code><a href="../reference/gsBoundSummary.html">gsBoundSummary()</a></code> to see all options.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="co"># footnote text for table</span>
<span class="no">footnote1</span> <span class="kw">&lt;-</span> <span class="st">"P{Cross} is the probability of crossing the given bound (efficacy or futility) at or before the given analysis under the assumed hazard ratio (HR)."</span>
<span class="no">footnote2</span> <span class="kw">&lt;-</span> <span class="st">" Design assumes futility bound is discretionary (non-binding); upper boundary crossing probabilities shown here assume trial stops at first boundary crossed and thus total less than the design Type I error."</span>
<span class="no">footnoteHR</span> <span class="kw">&lt;-</span> <span class="st">"HR presented is not a requirement, but an estimate of approximately what HR would be required to cross each bound."</span>
<span class="no">footnoteM</span> <span class="kw">&lt;-</span> <span class="st">"Month is approximated given enrollment and event rate assumptions under alternate hypothesis."</span>
<span class="co"># spending function footnotes</span>
<span class="no">footnoteUS</span> <span class="kw">&lt;-</span><span class="st">"Efficacy bound set using Lan-DeMets spending function approximating an O'Brien-Fleming bound."</span>
<span class="no">footnoteLS</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"Futility bound set using "</span>,<span class="no">x</span>$<span class="no">lower</span>$<span class="no">name</span>,<span class="st">" beta-spending function with "</span>,
                    <span class="no">x</span>$<span class="no">lower</span>$<span class="no">parname</span>,<span class="st">"="</span>,<span class="no">x</span>$<span class="no">lower</span>$<span class="no">param</span>,<span class="st">"."</span>,<span class="kw">sep</span> <span class="kw">=</span> <span class="st">""</span>)
<span class="co"># caption text for table</span>
<span class="no">caption</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">"Overall survival trial design with HR="</span>,<span class="no">hr</span>,<span class="st">", "</span>,<span class="fl">100</span>*(<span class="fl">1</span>-<span class="no">beta</span>),<span class="st">"% power and "</span>,<span class="fl">100</span>*<span class="no">alpha</span>,<span class="st">"% Type 1 error"</span>,<span class="kw">sep</span> <span class="kw">=</span> <span class="st">""</span>)</pre></body></html></div>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="fu"><a href="../reference/gsBoundSummary.html">gsBoundSummary</a></span>(<span class="no">x</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/gt.html">gt</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/tab_header.html">tab_header</a></span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Time-to-event group sequential design"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/cols_align.html">cols_align</a></span>(<span class="st">"left"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/tab_footnote.html">tab_footnote</a></span>(<span class="no">footnoteUS</span>,<span class="kw">locations</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/pkg/gt/man/cells_column_labels.html">cells_column_labels</a></span>(<span class="kw">columns</span> <span class="kw">=</span> <span class="fl">3</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/tab_footnote.html">tab_footnote</a></span>(<span class="no">footnoteLS</span>,<span class="kw">locations</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/pkg/gt/man/cells_column_labels.html">cells_column_labels</a></span>(<span class="kw">columns</span> <span class="kw">=</span> <span class="fl">4</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/tab_footnote.html">tab_footnote</a></span>(<span class="no">footnoteHR</span>,<span class="kw">locations</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/pkg/gt/man/cells_data.html">cells_data</a></span>(<span class="kw">columns</span> <span class="kw">=</span> <span class="fl">2</span>,<span class="kw">rows</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">3</span>,<span class="fl">8</span>,<span class="fl">13</span>))) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/tab_footnote.html">tab_footnote</a></span>(<span class="no">footnoteM</span>,<span class="kw">locations</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/pkg/gt/man/cells_data.html">cells_data</a></span>(<span class="kw">columns</span> <span class="kw">=</span> <span class="fl">1</span>,<span class="kw">rows</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">4</span>,<span class="fl">9</span>,<span class="fl">14</span>))) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/tab_footnote.html">tab_footnote</a></span>(<span class="no">footnote1</span>,<span class="kw">locations</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/pkg/gt/man/cells_data.html">cells_data</a></span>(<span class="kw">columns</span> <span class="kw">=</span> <span class="fl">2</span>,<span class="kw">rows</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">9</span>,<span class="fl">10</span>,<span class="fl">14</span>,<span class="fl">15</span>))) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/tab_footnote.html">tab_footnote</a></span>(<span class="no">footnote2</span>,<span class="kw">locations</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/pkg/gt/man/cells_data.html">cells_data</a></span>(<span class="kw">columns</span> <span class="kw">=</span> <span class="fl">2</span>,<span class="kw">rows</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">4</span>,<span class="fl">9</span>,<span class="fl">14</span>)))
<span class="co">#&gt; Warning: The `cells_data()` function is deprecated and will soon be removed</span>
<span class="co">#&gt;  * Use the `cells_body()` function instead</span>

<span class="co">#&gt; Warning: The `cells_data()` function is deprecated and will soon be removed</span>
<span class="co">#&gt;  * Use the `cells_body()` function instead</span>

<span class="co">#&gt; Warning: The `cells_data()` function is deprecated and will soon be removed</span>
<span class="co">#&gt;  * Use the `cells_body()` function instead</span>

<span class="co">#&gt; Warning: The `cells_data()` function is deprecated and will soon be removed</span>
<span class="co">#&gt;  * Use the `cells_body()` function instead</span></pre></body></html></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ztapbsbtpx .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ztapbsbtpx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ztapbsbtpx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ztapbsbtpx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ztapbsbtpx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ztapbsbtpx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ztapbsbtpx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ztapbsbtpx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ztapbsbtpx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ztapbsbtpx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ztapbsbtpx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ztapbsbtpx .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ztapbsbtpx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ztapbsbtpx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ztapbsbtpx .gt_from_md > :first-child {
  margin-top: 0;
}

#ztapbsbtpx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ztapbsbtpx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ztapbsbtpx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ztapbsbtpx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ztapbsbtpx .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ztapbsbtpx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ztapbsbtpx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ztapbsbtpx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ztapbsbtpx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ztapbsbtpx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ztapbsbtpx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ztapbsbtpx .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ztapbsbtpx .gt_left {
  text-align: left;
}

#ztapbsbtpx .gt_center {
  text-align: center;
}

#ztapbsbtpx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ztapbsbtpx .gt_font_normal {
  font-weight: normal;
}

#ztapbsbtpx .gt_font_bold {
  font-weight: bold;
}

#ztapbsbtpx .gt_font_italic {
  font-style: italic;
}

#ztapbsbtpx .gt_super {
  font-size: 65%;
}

#ztapbsbtpx .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="ztapbsbtpx" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_header">
<tr>
<th colspan="4" class="gt_heading gt_title gt_font_normal" style>Time-to-event group sequential design</th>
    </tr>
<tr>
<th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style></th>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Analysis</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Efficacy<sup class="gt_footnote_marks">1</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Futility<sup class="gt_footnote_marks">2</sup>
</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_left">IA 1: 25%</td>
      <td class="gt_row gt_left">Z</td>
      <td class="gt_row gt_left">4.3326</td>
      <td class="gt_row gt_left">-1.7019</td>
    </tr>
<tr>
<td class="gt_row gt_left">N: 414</td>
      <td class="gt_row gt_left">p (1-sided)</td>
      <td class="gt_row gt_left">0.0000</td>
      <td class="gt_row gt_left">0.9556</td>
    </tr>
<tr>
<td class="gt_row gt_left">Events: 111</td>
      <td class="gt_row gt_left">~HR at bound<sup class="gt_footnote_marks">3</sup>
</td>
      <td class="gt_row gt_left">0.4386</td>
      <td class="gt_row gt_left">1.3823</td>
    </tr>
<tr>
<td class="gt_row gt_left">Month: 16<sup class="gt_footnote_marks">4</sup>
</td>
      <td class="gt_row gt_left">P(Cross) if HR=1<sup class="gt_footnote_marks">5,6</sup>
</td>
      <td class="gt_row gt_left">0.0000</td>
      <td class="gt_row gt_left">0.0444</td>
    </tr>
<tr>
<td class="gt_row gt_left"></td>
      <td class="gt_row gt_left">P(Cross) if HR=0.75<sup class="gt_footnote_marks">5</sup>
</td>
      <td class="gt_row gt_left">0.0024</td>
      <td class="gt_row gt_left">0.0007</td>
    </tr>
<tr>
<td class="gt_row gt_left">IA 2: 75%</td>
      <td class="gt_row gt_left">Z</td>
      <td class="gt_row gt_left">2.3398</td>
      <td class="gt_row gt_left">0.6728</td>
    </tr>
<tr>
<td class="gt_row gt_left">N: 676</td>
      <td class="gt_row gt_left">p (1-sided)</td>
      <td class="gt_row gt_left">0.0096</td>
      <td class="gt_row gt_left">0.2505</td>
    </tr>
<tr>
<td class="gt_row gt_left">Events: 332</td>
      <td class="gt_row gt_left">~HR at bound<sup class="gt_footnote_marks">3</sup>
</td>
      <td class="gt_row gt_left">0.7734</td>
      <td class="gt_row gt_left">0.9288</td>
    </tr>
<tr>
<td class="gt_row gt_left">Month: 28<sup class="gt_footnote_marks">4</sup>
</td>
      <td class="gt_row gt_left">P(Cross) if HR=1<sup class="gt_footnote_marks">5,6</sup>
</td>
      <td class="gt_row gt_left">0.0096</td>
      <td class="gt_row gt_left">0.7500</td>
    </tr>
<tr>
<td class="gt_row gt_left"></td>
      <td class="gt_row gt_left">P(Cross) if HR=0.75<sup class="gt_footnote_marks">5</sup>
</td>
      <td class="gt_row gt_left">0.6110</td>
      <td class="gt_row gt_left">0.0260</td>
    </tr>
<tr>
<td class="gt_row gt_left">Final</td>
      <td class="gt_row gt_left">Z</td>
      <td class="gt_row gt_left">2.0118</td>
      <td class="gt_row gt_left">2.0118</td>
    </tr>
<tr>
<td class="gt_row gt_left">N: 676</td>
      <td class="gt_row gt_left">p (1-sided)</td>
      <td class="gt_row gt_left">0.0221</td>
      <td class="gt_row gt_left">0.0221</td>
    </tr>
<tr>
<td class="gt_row gt_left">Events: 443</td>
      <td class="gt_row gt_left">~HR at bound<sup class="gt_footnote_marks">3</sup>
</td>
      <td class="gt_row gt_left">0.8258</td>
      <td class="gt_row gt_left">0.8258</td>
    </tr>
<tr>
<td class="gt_row gt_left">Month: 36<sup class="gt_footnote_marks">4</sup>
</td>
      <td class="gt_row gt_left">P(Cross) if HR=1<sup class="gt_footnote_marks">5,6</sup>
</td>
      <td class="gt_row gt_left">0.0249</td>
      <td class="gt_row gt_left">0.9751</td>
    </tr>
<tr>
<td class="gt_row gt_left"></td>
      <td class="gt_row gt_left">P(Cross) if HR=0.75<sup class="gt_footnote_marks">5</sup>
</td>
      <td class="gt_row gt_left">0.8500</td>
      <td class="gt_row gt_left">0.1500</td>
    </tr>
</tbody>
<tfoot><tr class="gt_footnotes">
<td colspan="4">
        <p class="gt_footnote">
          <sup class="gt_footnote_marks"><em>1</em>
          </sup>
           
          Efficacy bound set using Lan-DeMets spending function approximating an O'Brien-Fleming bound.
          <br></p>
        <p class="gt_footnote">
          <sup class="gt_footnote_marks"><em>2</em>
          </sup>
           
          Futility bound set using Hwang-Shih-DeCani beta-spending function with gamma=-7.
          <br></p>
        <p class="gt_footnote">
          <sup class="gt_footnote_marks"><em>3</em>
          </sup>
           
          HR presented is not a requirement, but an estimate of approximately what HR would be required to cross each bound.
          <br></p>
        <p class="gt_footnote">
          <sup class="gt_footnote_marks"><em>4</em>
          </sup>
           
          Month is approximated given enrollment and event rate assumptions under alternate hypothesis.
          <br></p>
        <p class="gt_footnote">
          <sup class="gt_footnote_marks"><em>5</em>
          </sup>
           
          P{Cross} is the probability of crossing the given bound (efficacy or futility) at or before the given analysis under the assumed hazard ratio (HR).
          <br></p>
        <p class="gt_footnote">
          <sup class="gt_footnote_marks"><em>6</em>
          </sup>
           
           Design assumes futility bound is discretionary (non-binding); upper boundary crossing probabilities shown here assume trial stops at first boundary crossed and thus total less than the design Type I error.
          <br></p>
      </td>
    </tr></tfoot>
</table></div>
</div>
<div id="summary-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#summary-plots" class="anchor"></a>Summary plots</h2>
<p>Several plots are available to summarize a design; see help for <code><a href="../reference/plot.gsDesign.html">plot.gsDesign()</a></code>; one easy way to see how to generate each is by checking plots and code generated by the <a href="https://gsdesign.shinyapps.io/prod/">Shiny interface</a>. The power plot is information-rich, but also requires some explanation; thus, we demonstrate here.</p>
<p>The solid black line represents the trial power by effect size. Power at interim 1 is represented by the black dotted line. Cumulative power at interim 2 is represented by the black dashed line. The red dotted line is 1 minus the probability of crossing the futility bound on the percentage scale. The red dashed line is 1 minus the cumulative probability of crossing the futility bound by interim 2.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">scales</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">x</span>,<span class="kw">plottype</span> <span class="kw">=</span> <span class="st">"power"</span>,<span class="kw">cex</span> <span class="kw">=</span> <span class="fl">.8</span>,<span class="kw">xlab</span> <span class="kw">=</span> <span class="st">"HR"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span>(<span class="kw">labels</span> <span class="kw">=</span> <span class="kw pkg">scales</span><span class="kw ns">::</span><span class="no"><a href="https://scales.r-lib.org//reference/label_percent.html">percent</a></span>)</pre></body></html></div>
<p><img src="gsSurvBasicExamples_files/figure-html/unnamed-chunk-13-1.png" width="672"></p>
</div>
</div>
<div id="update-bounds-at-time-of-analysis" class="section level1">
<h1 class="hasAnchor">
<a href="#update-bounds-at-time-of-analysis" class="anchor"></a>Update bounds at time of analysis</h1>
<p>Analyses rarely occur at exactly the number of events which are planned. The advantage of the spending function approach to design is that bounds can be updated to account for the actual number of events observed at each analysis. In fact, analyses can be added or deleted noting that any changes in timing or analyses should not be made with knowledge of unblinded study results. We suggest tables and a plot that may be of particular use. We also present computation of conditional and predictive power.</p>
<p>First, we update the actual number of events for interims 1 and 2 and assume the final analysis event count is still as originally planned:</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="co"># number of events (final is still planned number)</span>
<span class="no">n.I</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">115</span>, <span class="fl">364</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">ceiling</a></span>(<span class="no">x</span>$<span class="no">n.I</span>[<span class="no">x</span>$<span class="no">k</span>]))</pre></body></html></div>
<p>The simple updates to Z-values and p-values for the design based on information fraction just requires the fraction of final events planned, but does not include the number of events or treatment effect in the output:</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="no">xu</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/gsDesign.html">gsDesign</a></span>(<span class="kw">alpha</span> <span class="kw">=</span> <span class="no">x</span>$<span class="no">alpha</span>, <span class="kw">beta</span> <span class="kw">=</span> <span class="no">x</span>$<span class="no">beta</span>,
               <span class="kw">maxn.IPlan</span> <span class="kw">=</span> <span class="no">x</span>$<span class="no">n.I</span>[<span class="no">x</span>$<span class="no">k</span>], <span class="kw">n.I</span> <span class="kw">=</span> <span class="no">n.I</span>,
               <span class="kw">sfu</span> <span class="kw">=</span> <span class="no">sfu</span>, <span class="kw">sfupar</span> <span class="kw">=</span> <span class="no">sfupar</span>, <span class="kw">sfl</span> <span class="kw">=</span> <span class="no">sfl</span>, <span class="kw">sflpar</span> <span class="kw">=</span> <span class="no">sflpar</span>,
               <span class="kw">delta</span> <span class="kw">=</span> <span class="no">x</span>$<span class="no">delta</span>, <span class="kw">delta1</span> <span class="kw">=</span> <span class="no">x</span>$<span class="no">delta1</span>, <span class="kw">delta0</span> <span class="kw">=</span> <span class="no">x</span>$<span class="no">delta0</span>)</pre></body></html></div>
<p>Now we print the design summary, selecting minimal calculations for a table to provide guidance for review of results. If you wish to see all possible summaries of bounds, change to <code>exclude = NULL</code> below. Here we have assumed futility guidance is based on the hazard ratio at interim analyse; this is not generally the case, but is an option as these bounds are guidance rather than having strict inferential interpretation.</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="fu"><a href="../reference/gsBoundSummary.html">gsBoundSummary</a></span>(<span class="no">xu</span>,
               <span class="kw">deltaname</span><span class="kw">=</span><span class="st">"HR"</span>,
               <span class="kw">logdelta</span><span class="kw">=</span><span class="fl">TRUE</span>,
               <span class="kw">Nname</span><span class="kw">=</span><span class="st">"Events"</span>,
               <span class="kw">exclude</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Spending"</span>, <span class="st">"B-value"</span>, <span class="st">"CP"</span>, <span class="st">"CP H1"</span>,
                           <span class="st">"PP"</span>, <span class="st">"P(Cross) if HR=1"</span>,<span class="st">"P(Cross) if HR=0.75"</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/gt.html">gt</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/cols_align.html">cols_align</a></span>(<span class="st">"left"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/tab_header.html">tab_header</a></span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Time-to-event group sequential bound guidance"</span>,
             <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Bounds updated based on event counts through IA2"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/tab_footnote.html">tab_footnote</a></span>(<span class="st">"Nominal p-value required to establish statistical significance."</span>,
               <span class="kw">locations</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/pkg/gt/man/cells_data.html">cells_data</a></span>(<span class="kw">columns</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">rows</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">8</span>))) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/tab_footnote.html">tab_footnote</a></span>(<span class="st">"Interim futility guidance based on observed HR is non-binding."</span>,
               <span class="kw">locations</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/pkg/gt/man/cells_data.html">cells_data</a></span>(<span class="kw">columns</span> <span class="kw">=</span> <span class="fl">4</span>, <span class="kw">rows</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">3</span>, <span class="fl">6</span>))) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/gt/man/tab_footnote.html">tab_footnote</a></span>(<span class="st">"HR bounds are approximations; decisions on crossing are based solely on p-values."</span>,
               <span class="kw">locations</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/pkg/gt/man/cells_data.html">cells_data</a></span>(<span class="kw">column</span><span class="kw">=</span> <span class="fl">2</span>, <span class="kw">rows</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">9</span>)))
<span class="co">#&gt; Warning: The `cells_data()` function is deprecated and will soon be removed</span>
<span class="co">#&gt;  * Use the `cells_body()` function instead</span>

<span class="co">#&gt; Warning: The `cells_data()` function is deprecated and will soon be removed</span>
<span class="co">#&gt;  * Use the `cells_body()` function instead</span>

<span class="co">#&gt; Warning: The `cells_data()` function is deprecated and will soon be removed</span>
<span class="co">#&gt;  * Use the `cells_body()` function instead</span></pre></body></html></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#vqnlqbqozx .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vqnlqbqozx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vqnlqbqozx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vqnlqbqozx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vqnlqbqozx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vqnlqbqozx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vqnlqbqozx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vqnlqbqozx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vqnlqbqozx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vqnlqbqozx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vqnlqbqozx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vqnlqbqozx .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#vqnlqbqozx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vqnlqbqozx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vqnlqbqozx .gt_from_md > :first-child {
  margin-top: 0;
}

#vqnlqbqozx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vqnlqbqozx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vqnlqbqozx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#vqnlqbqozx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vqnlqbqozx .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#vqnlqbqozx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vqnlqbqozx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vqnlqbqozx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vqnlqbqozx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vqnlqbqozx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#vqnlqbqozx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vqnlqbqozx .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#vqnlqbqozx .gt_left {
  text-align: left;
}

#vqnlqbqozx .gt_center {
  text-align: center;
}

#vqnlqbqozx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vqnlqbqozx .gt_font_normal {
  font-weight: normal;
}

#vqnlqbqozx .gt_font_bold {
  font-weight: bold;
}

#vqnlqbqozx .gt_font_italic {
  font-style: italic;
}

#vqnlqbqozx .gt_super {
  font-size: 65%;
}

#vqnlqbqozx .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="vqnlqbqozx" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_header">
<tr>
<th colspan="4" class="gt_heading gt_title gt_font_normal" style>Time-to-event group sequential bound guidance</th>
    </tr>
<tr>
<th colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Bounds updated based on event counts through IA2</th>
    </tr>
</thead>
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Analysis</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Efficacy</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Futility</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_left">IA 1: 26%</td>
      <td class="gt_row gt_left">Z</td>
      <td class="gt_row gt_left">4.2416</td>
      <td class="gt_row gt_left">-1.6470</td>
    </tr>
<tr>
<td class="gt_row gt_left">Events: 115</td>
      <td class="gt_row gt_left">p (1-sided)</td>
      <td class="gt_row gt_left">0.0000<sup class="gt_footnote_marks">1</sup>
</td>
      <td class="gt_row gt_left">0.9502</td>
    </tr>
<tr>
<td class="gt_row gt_left"></td>
      <td class="gt_row gt_left">~HR at bound<sup class="gt_footnote_marks">2</sup>
</td>
      <td class="gt_row gt_left">0.4534</td>
      <td class="gt_row gt_left">1.3596<sup class="gt_footnote_marks">3</sup>
</td>
    </tr>
<tr>
<td class="gt_row gt_left">IA 2: 82%</td>
      <td class="gt_row gt_left">Z</td>
      <td class="gt_row gt_left">2.2115</td>
      <td class="gt_row gt_left">1.0322</td>
    </tr>
<tr>
<td class="gt_row gt_left">Events: 364</td>
      <td class="gt_row gt_left">p (1-sided)</td>
      <td class="gt_row gt_left">0.0135<sup class="gt_footnote_marks">1</sup>
</td>
      <td class="gt_row gt_left">0.1510</td>
    </tr>
<tr>
<td class="gt_row gt_left"></td>
      <td class="gt_row gt_left">~HR at bound<sup class="gt_footnote_marks">2</sup>
</td>
      <td class="gt_row gt_left">0.7931</td>
      <td class="gt_row gt_left">0.8974<sup class="gt_footnote_marks">3</sup>
</td>
    </tr>
<tr>
<td class="gt_row gt_left">Final</td>
      <td class="gt_row gt_left">Z</td>
      <td class="gt_row gt_left">2.0323</td>
      <td class="gt_row gt_left">2.0261</td>
    </tr>
<tr>
<td class="gt_row gt_left">Events: 443</td>
      <td class="gt_row gt_left">p (1-sided)</td>
      <td class="gt_row gt_left">0.0211<sup class="gt_footnote_marks">1</sup>
</td>
      <td class="gt_row gt_left">0.0214</td>
    </tr>
<tr>
<td class="gt_row gt_left"></td>
      <td class="gt_row gt_left">~HR at bound<sup class="gt_footnote_marks">2</sup>
</td>
      <td class="gt_row gt_left">0.8244</td>
      <td class="gt_row gt_left">0.8249</td>
    </tr>
</tbody>
<tfoot><tr class="gt_footnotes">
<td colspan="4">
        <p class="gt_footnote">
          <sup class="gt_footnote_marks"><em>1</em>
          </sup>
           
          Nominal p-value required to establish statistical significance.
          <br></p>
        <p class="gt_footnote">
          <sup class="gt_footnote_marks"><em>2</em>
          </sup>
           
          HR bounds are approximations; decisions on crossing are based solely on p-values.
          <br></p>
        <p class="gt_footnote">
          <sup class="gt_footnote_marks"><em>3</em>
          </sup>
           
          Interim futility guidance based on observed HR is non-binding.
          <br></p>
      </td>
    </tr></tfoot>
</table></div>
<div id="evaluating-interim-results" class="section level2">
<h2 class="hasAnchor">
<a href="#evaluating-interim-results" class="anchor"></a>Evaluating interim results</h2>
<p>We recommend 3 things to present to summarize results in addition to standard summaries such as the logrank p-value, hazard ratio based on the Cox model, median time-to-event and Kaplan-Meier curves by treatment group.</p>
<ul>
<li>Conditional power at the current trend, under the null hypothesis of no treatment difference (conditional error), and under the alternative hypothesis.</li>
<li>Predictive power, which is conditional power averaged over a posterior distribution for the treatment effect.</li>
<li>A B-value plot to evaluate the trend in test statistics towards a positive conclusion.</li>
</ul>
<p>For these summaries, we will assume the updated interim event counts used above along with interim Z-values of 0.25 and 2 at interim 1 and interim 2, respectively.</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="no">Z</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0.25</span>, <span class="fl">2</span>)</pre></body></html></div>
<p>Conditional power at interim analysis 2 is computed for the current trend, under the null hypothesis (HR=1), and under the alternate hypothesis (HR=0.75 in this case) as follows:</p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="fu"><a href="../reference/gsCP.html">gsCP</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">xu</span>, <span class="co"># updated design</span>
     <span class="kw">i</span> <span class="kw">=</span> <span class="fl">2</span>,  <span class="co"># interim analysis 2</span>
     <span class="kw">zi</span> <span class="kw">=</span> <span class="no">Z</span>[<span class="fl">2</span>] <span class="co"># observed Z-value for testing</span>
)$<span class="no">upper</span>$<span class="no">prob</span>
<span class="co">#&gt;           [,1]     [,2]      [,3]</span>
<span class="co">#&gt; [1,] 0.6599398 0.301728 0.7764629</span></pre></body></html></div>
<p>Predictive power incorporates uncertainty into the above conditional power evaluation. The computation assumes a prior distribution for the treatment effect and then updates to a posterior distribution for the treatment effect based on the most recent interim result. The conditional probability of a positive finding is then averaged according to this posterior. We specify a normal prior for the standardized effect size using the <code><a href="../reference/normalGrid.html">gsDesign::normalGrid()</a></code> function. We select a weak prior with mean half-way between the alternative (<code>x$delta</code>) and null (0) hypotheses and a variance equivalent to observing 5% (=1/20) of the targeted events at the final analysis; the following shows that the standard deviation for the prior is well over twice the mean, so the prior is relatively weak.</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="no">prior</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/normalGrid.html">normalGrid</a></span>(<span class="kw">mu</span> <span class="kw">=</span> <span class="no">x</span>$<span class="no">delta</span>/<span class="fl">2</span>,
                    <span class="kw">sigma</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span>(<span class="fl">20</span>/<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="no">x</span>$<span class="no">n.I</span>)))
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="st">" Prior mean:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="no">x</span>$<span class="no">delta</span>/<span class="fl">2</span>, <span class="fl">3</span>),
          <span class="st">"\n Prior standard deviation"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span>(<span class="fl">20</span>/<span class="no">x</span>$<span class="no">n.fix</span>), <span class="fl">3</span>), <span class="st">"\n"</span>))
<span class="co">#&gt;  Prior mean: 0.072 </span>
<span class="co">#&gt;  Prior standard deviation 0.215</span></pre></body></html></div>
<p>Now based on the interim 2 result, we compute the predictive power of a positive final analysis.</p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="fu"><a href="../reference/gsCP.html">gsPP</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">xu</span>, <span class="co"># updated design</span>
     <span class="kw">i</span> <span class="kw">=</span> <span class="fl">2</span>,  <span class="co"># interim analysis 2</span>
     <span class="kw">zi</span> <span class="kw">=</span> <span class="no">Z</span>[<span class="fl">2</span>], <span class="co"># observed Z-value for testing</span>
     <span class="kw">theta</span> <span class="kw">=</span> <span class="no">prior</span>$<span class="no">z</span>, <span class="co"># grid points for above prior</span>
     <span class="kw">wgts</span> <span class="kw">=</span> <span class="no">prior</span>$<span class="no">wgts</span> <span class="co"># weights for averaging over grid</span>
)
<span class="co">#&gt; [1] 0.6407376</span></pre></body></html></div>
<p>A B-value (<span class="citation">Proschan, Lan, and Wittes (2006)</span>) is a Z-value multiplied by the square root of the information fraction (interim information divided by final planned information. In the plot below on the B-value scale, we present the efficacy bounds at each analysis in black, futility guidance in red, the observed interim tests in blue connected by solid lines, and a dashed blue line to project the final result. Under a constant treatment effect (proportional hazards for a time-to-event outcome tested with a logrank test) the blue line behaves like observations from a Brownian motion with a linear trend (“constant drift”). While a comparable Z-value plot would have the effect increasing with the square root of the number of events, the B-value plot trend is linear in the event count. The trend is proportional to the logarithm of the underlying hazard ratio. The projected final test is based on the dashed line which represents a linear trend based on the most recent B-value computed; this projection is what was used in the conditional power calculation under the current trend that was computed above.</p>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="no">maxx</span> <span class="kw">&lt;-</span> <span class="fl">450</span> <span class="co"># max for x-axis specified by user  </span>
<span class="no">ylim</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(-<span class="fl">1</span>,<span class="fl">3</span>) <span class="co"># user-specified y-axis limits</span>
<span class="no">analysis</span> <span class="kw">&lt;-</span> <span class="fl">2</span>  <span class="co"># current analysis specified by user</span>
<span class="co"># Following code should require no further changes</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">xu</span>, <span class="kw">plottype</span><span class="kw">=</span><span class="st">"B"</span>, <span class="kw">base</span><span class="kw">=</span><span class="fl">TRUE</span>, <span class="kw">xlim</span><span class="kw">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0</span>,<span class="no">maxx</span>), <span class="kw">ylim</span><span class="kw">=</span><span class="no">ylim</span>, <span class="kw">main</span><span class="kw">=</span><span class="st">"B-value projection"</span>,
     <span class="kw">lty</span><span class="kw">=</span><span class="fl">1</span>, <span class="kw">col</span><span class="kw">=</span><span class="fl">1</span>:<span class="fl">2</span>, <span class="kw">xlab</span><span class="kw">=</span><span class="st">"Events"</span>)
<span class="no">N</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0</span>, <span class="no">xu</span>$<span class="no">n.I</span>[<span class="fl">1</span>:<span class="no">analysis</span>])
<span class="no">B</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0</span>, <span class="no">Z</span> * <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span>(<span class="no">xu</span>$<span class="no">timing</span>[<span class="fl">1</span>:<span class="no">analysis</span>]))
<span class="fu"><a href="https://rdrr.io/r/graphics/points.html">points</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">N</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">B</span>, <span class="kw">col</span> <span class="kw">=</span> <span class="fl">4</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/lines.html">lines</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">N</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">B</span>, <span class="kw">col</span> <span class="kw">=</span> <span class="fl">4</span>)
<span class="no">slope</span> <span class="kw">&lt;-</span> <span class="no">B</span>[<span class="no">analysis</span>+<span class="fl">1</span>] / <span class="no">N</span>[<span class="no">analysis</span> + <span class="fl">1</span>]
<span class="no">Nvals</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">N</span>[<span class="no">analysis</span>+<span class="fl">1</span>], <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="no">xu</span>$<span class="no">n.I</span>))
<span class="fu"><a href="https://rdrr.io/r/graphics/lines.html">lines</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">Nvals</span>,
      <span class="kw">y</span> <span class="kw">=</span> <span class="no">B</span>[<span class="no">analysis</span> + <span class="fl">1</span>] + <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0</span>, <span class="no">slope</span> * (<span class="no">Nvals</span>[<span class="fl">2</span>] - <span class="no">Nvals</span>[<span class="fl">1</span>])),
      <span class="kw">col</span> <span class="kw">=</span> <span class="fl">4</span>,
      <span class="kw">lty</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<p><img src="gsSurvBasicExamples_files/figure-html/unnamed-chunk-21-1.png" width="624"></p>
</div>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-KimTsiatis">
<p>Kim, Kyungmann, and Anastasios A. Tsiatis. 1990. “Study Duration for Clinical Trials with Survival Response and Early Stopping Rule.” <em>Biometrics</em> 46: 81–92.</p>
</div>
<div id="ref-LachinFoulkes">
<p>Lachin, John M., and Mary A. Foulkes. 1986. “Evaluation of Sample Size and Power for Analyses of Survival with Allowance for Nonuniform Patient Entry, Losses to Follow-up, Noncompliance, and Stratification.” <em>Biometrics</em> 42: 507–19.</p>
</div>
<div id="ref-LanDeMets">
<p>Lan, K. K. G., and David L. DeMets. 1983. “Discrete Sequential Boundaries for Clinical Trials.” <em>Biometrika</em> 70: 659–63.</p>
</div>
<div id="ref-PLWBook">
<p>Proschan, Michael A., K. K. Gordon Lan, and Janet Turk Wittes. 2006. <em>Statistical Monitoring of Clinical Trials. A Unified Approach.</em> New York, NY: Springer.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Keaven Anderson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
